---
title: "\U0001F578 Graphing Numerical Data - Correlations"
subtitle: "Correlations"
author: "Arvind Venkatadri"
date: "`r Sys.Date()`"
weight: 30
summary: "How one variable changes with another"
tags:
- Correlations  
- Scatter and Bubble Plots  
- 2D Density Plots  
- Heatmaps  
- Regression Lines  
image:
  caption: Photo by rawpixel on Unsplash
  focal_point: Smart
external_link: ""
links:
- icon: lemon
  icon_pack: fa
  name: Orange Workflow
  url: "/labs/Data-Analytics/correlation.ows"
- icon: file-code
  icon_pack: fa
  name: Rmarkdown code
  url: "labs/Data-Analytics/correlation.Rmd"
- icon: cubes
  icon_pack: fa
  name: Radiant Workflow
  url: "labs/Data-Analytics/correlation.Rmd"
slides: ""
url_code: ""
url_pdf: ""
url_slides: ""
url_video: ""
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
library(blogdown)
library(tidyverse)
library(downloadthis)
library(palmerpenguins)
library(patchwork)
library(ggridges)
library(GGally)
library(grid)

```

## What graphs will we see today?

Some of the very basic and commonly used plots for data are:

- Scatter Plot  
- Contour Plot  
- Correlogram  
- Heatmap  


## What Correlation Charts can we plot with Numerical  / Quantitative Data?

```{r charts, echo=FALSE, warning=FALSE,message=FALSE}
mpg <- mpg %>% mutate(drv= as_factor(drv))
p <- ggplot(mpg, alpha = 0.3) 
p1 <- p + 
  geom_point(aes(x = hwy, y = cty, fill = drv, colour = drv), size = 0.5) +
  geom_smooth(aes(x = hwy, y = cty), method = "lm") + 
  labs(title = "Scatter Plot with Correlation/Regression/Trend Line")
p2 <- p + geom_density_2d(aes(x = hwy, y = cty, fill = drv))+ labs(title = "2D Density Plot")
p1 + p2

```

```{r pairs-charts, echo=FALSE, warning=FALSE,message=FALSE}
p2 <- GGally::ggpairs(mpg, columns = c("hwy", "cty", "displ","cyl"), diag = list("densityDiag"), main = "Pairwise Correlations Plot")
p2

```

```{r cor-plot, echo=FALSE, warning=FALSE,message=FALSE}
library(corrplot)
library(caret)
mpg_num <- mpg %>% select(hwy, cty, displ, cyl)
mydata_cor <- cor(mpg_num)
p3 <- mydata_cor %>% corrplot(method = "ellipse",type = "lower",main = "Correlogram")
p3
```




## A Workflow in Orange

How does one calculate and visualize Correlations in Orange?

```{r}
blogdown::shortcode("youtube", "Bd7n9FdY3g0")
```

Here is the help page on Correlations in Orange:

```{r}
knitr::include_url("https://orange3.readthedocs.io/projects/orange-visual-programming/en/latest/widgets/data/correlations.html")

```

Download the Orange Workflow file by clicking the icon below, and open it in Orange.

```{r, echo=FALSE}
download_file(
  path = "files/correlations.ows",
  output_extension = ".ows",
  output_name = "Orange Workflow",
  button_label = "Download Orange Workflow",
  button_type = "danger",
  has_icon = TRUE,
  icon = "fa fa-save",
  self_contained = FALSE
)
```

## A Workflow in Radiant

Download the Radiant Workflow statefile by clicking the icon above, and upload/open it in Radiant. You need to start radiant from the `Add-In` menu in RStudio.

```{r, echo=FALSE}
download_file(
  path = "files/correlations.txt",
  output_extension = ".txt",
  output_name = "Radiant Workflow",
  button_label = "Download Radiant Workflow",
  button_type = "danger",
  has_icon = TRUE,
  icon = "fa fa-save",
  self_contained = FALSE
)
```
## A Workflow in R

Download the RMarkdown tutorial file by clicking the icon above and open it in RStudio or rstudio.cloud.

```{r, echo=FALSE}
download_file(
  path = "files/correlations.Rmd",
  output_extension = ".Rmd",
  output_name = "R Markdown Workflow",
  button_label = "Download Orange Workflow",
  button_type = "danger",
  has_icon = TRUE,
  icon = "fa fa-save",
  self_contained = FALSE
)
```

## Conclusion



## References

1. Minimal R using `mosaic`. <https://cran.r-project.org/web/packages/mosaic/vignettes/MinimalRgg.pdf>


