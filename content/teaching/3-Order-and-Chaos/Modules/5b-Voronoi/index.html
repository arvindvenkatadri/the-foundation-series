---
title: "\U0001F579 Measuring and Playing with Proximity"
author: "Arvind V."
date: 2021-12-11
output: html_document
weight: 60
type: book
external_link: ""
image:
  caption: Photo by iStock
  focal_point: Smart
links:
slides: 
summary: 
tags:
- Voronoi Diagram
- Delaunay Triangulation
- Silhouette Diagrams
- Geogebra
- Herds and Predators
- Proximity
url_code: ""
url_pdf: ""
url_slides: ""
url_video: ""
editor_options: 
  markdown: 
    wrap: 72
---



<div id="dont-stand-so-close-to-me" class="section level4">
<h4>Don‚Äôt Stand so Close to Me</h4>
</div>
<div id="a-model-for-proximity-the-voronoi-and-the-delaunay-diagrams" class="section level2">
<h2>A Model for Proximity: The Voronoi and the Delaunay Diagrams</h2>
<p>So how do we model ‚Äúproximity‚Äù? Let us take a quick look at this
description of <u><a href="/pdf/Proximity/FollowingtheHerd.pdf"><strong>Predator-Prey
Dynamics.</strong></a></u></p>
<div id="plotting-the-delaunay-and-voronoi-diagrams" class="section level3">
<h3>Plotting the Delaunay and Voronoi Diagrams</h3>
<p>So here is an example of a computationally plotted Delaunay
Triangulation and Voronoi Diagram:</p>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-1-1.png" width="672" /><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-1-2.png" width="672" /><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-1-3.png" width="672" /></p>
<p>How do we plot these diagrams?</p>
<p>We will use this tool:
<u><a href="https://www.geogebra.org/classic"><strong>Geogebra</strong></a></u></p>
<p>Download and install this on your laptops. You can also use it in your
browser <u><a href="https://www.geogebra.org/classic?lang=en" class="uri">https://www.geogebra.org/classic?lang=en</a></u> and download
the Geogebra (<em>.ggb</em>) files that you create.</p>
<ol style="list-style-type: decimal">
<li>Exercise 1: Let us first see <u><a href="/pdf/Proximity/SohoMap.ggb"><strong>Soho with the Voronoi
Diagram</strong></a></u></li>
</ol>
<p>Now let us make such a diagram step by step:</p>
<ol style="list-style-type: decimal">
<li><p>Exercise 2: Let us try with just three points and see what we need
to do to plot the Voronoi Diagram.</p></li>
<li><p>Exercise 3: With 4 points: <u><a href="/pdf/Proximity/four%20points.ggb">Four Pointer
Voronoi</a></u></p></li>
<li><p>Exercise 4: Let us now add more points. How do we make a multi-point
Voronoi? We need to make a <u><a href="/pdf/Proximity/VoronoiLargeNoOfPointsInGeogebra.pdf"><strong>‚Äúlist of points‚Äù in
Geogebra</strong></a></u></p></li>
</ol>
</div>
<div id="discussion" class="section level3">
<h3>Discussion</h3>
<ul>
<li>Did you see how the Delaunay Triangulation seems to ‚Äúdislike‚Äù
obtuse-angles, and changes the triangulation pattern when a certain
(sum of) angles become more than 180?</li>
<li>Wasn‚Äôt that a very Kandinsky-like thing to do, even for an
algorithm?</li>
<li>The Delaunay Triangulation gives us a set of triangular elements
that cover our desired surface</li>
<li>The Voronoi Diagram uses the Delaunay to give us <em>possibly infinite</em>
proximal neighbourhoods.</li>
</ul>
</div>
</div>
<div id="fun-stuff-with-geogebra-and-voronoi" class="section level2">
<h2>Fun Stuff with Geogebra and Voronoi</h2>
<ol style="list-style-type: decimal">
<li>Predator Prey Movement‚Ä¶.</li>
</ol>
<ul>
<li>Create a set of points in Geogebra.</li>
<li>Colour/Shape one of the outermost points as a predator which circles
the herd.</li>
<li>Use the Voronoi diagram to model the <em>Zone of Danger</em> for each of
the animals in the inner herd.</li>
<li>Try <strong>Animation</strong> in Geogebra !!</li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li>Service Areas with Voronoi</li>
</ol>
<ul>
<li>Import a 5km * 5km square of area in your home town, from Google
Maps, into Geogebra.</li>
<li>Locate points of interest, all in one category ( ATMs, Post Offices,
Hospitals, Police Stations‚Ä¶)</li>
<li>Plot the Voronoi Diagram to show the area served by each such
institution.</li>
<li>Calculate the area in Geogebra.</li>
<li>Assume a flat population/sqkm and use that to calculate the number
of people served by each.</li>
</ul>
<p><strong>All</strong> of this can be done without leaving Geogebra !!</p>
<ol start="3" style="list-style-type: decimal">
<li>Voronoi Portraits and Facial Recognition</li>
</ol>
<p>A. My name is Arnold Schwarzenegger</p>
<ul>
<li>Take a picture of yourself and import it into Geogebra</li>
<li>Plot Points on the Portrait such that the main facial features are
defined.</li>
<li>Use a Delaunay Triangulation of these points to create a Portrait.</li>
</ul>
<p><img src="AVinMath.jpeg" /></p>
<p>B. My Face is My Fortune</p>
<ul>
<li>Do the same for a famous person, past or present.</li>
<li>Run a small survey in the class to see how many people can recognize
celebrity!</li>
</ul>
</div>
<div id="other-distances" class="section level2">
<h2>Other Distances?</h2>
<div id="hamming-distances" class="section level3">
<h3>Hamming Distances</h3>
<p>We have used the simplest and most common of geometric distances between
entities, the <strong>Euclidean Distance</strong> to model proximity. Are there other
<em>measures of distance</em>?</p>
<ul>
<li>How would you measure distance between <em>digital words</em>? For example
<span class="math inline">\(10010011\)</span> and <span class="math inline">\(11011011\)</span>?</li>
</ul>
<blockquote>
<p>The <strong>Hamming distance</strong> between two equal-length strings of symbols
is the number of positions at which the corresponding symbols are
different. The symbols may be letters, bits, or decimal digits, among
other possibilities. For example, the Hamming distance between:
‚Äúkarolin‚Äù and ‚Äúkathrin‚Äù is 3. ‚Äúkarolin‚Äù and ‚Äúkerstin‚Äù is 3. ‚Äúkathrin‚Äù
and ‚Äúkerstin‚Äù is 4. 0000 and 1111 is 4. 2173896 and 2233796 is 3.</p>
</blockquote>
<p>The Hamming Distance can be calculated using a logical operation known
as <u><a href="https://www.khanacademy.org/computing/computer-science/cryptography/ciphers/a/xor-bitwise-operation">‚ÄúExclusive-OR‚Äù or
‚ÄúXOR‚Äù</a></u>.</p>
</div>
<div id="great-circle-distances" class="section level3">
<h3>Great Circle Distances</h3>
<p>How would you measure distance over a <em>curved surface</em> such as the
earth?</p>
<p>View the path here: <u><a href="https://www.greatcirclemap.com/" class="uri">https://www.greatcirclemap.com/</a></u> Calculate
distances here: <u><a href="https://www.gpsvisualizer.com/calculators" class="uri">https://www.gpsvisualizer.com/calculators</a></u></p>
</div>
<div id="taxicab-distances" class="section level3">
<h3>Taxicab Distances</h3>
<p>And if a <em>man hatta</em> live in New York?</p>
<p><img src="taxicab-manhattan-grid-layout-paths.gif" /></p>
<p><img src="taxicab-manhattan-grid-taxicab-distance.png" /></p>
<p>We will use the Euclidean and maybe other concepts of distance when we
get into our Machine Learning models!</p>
</div>
<div id="plotting-sihouette-diagrams" class="section level3">
<h3>Plotting Sihouette Diagrams</h3>
<p>To be written up!!
<a href="https://orange3.readthedocs.io/projects/orange-visual-programming/en/latest/widgets/visualize/silhouetteplot.html" class="uri">https://orange3.readthedocs.io/projects/orange-visual-programming/en/latest/widgets/visualize/silhouetteplot.html</a></p>
</div>
</div>
<div id="so-where-are-all-these-proximities-used" class="section level2">
<h2>So where are all these Proximities used?</h2>
<div id="proximities-in-the-gps-system" class="section level3">
<h3>Proximities in the GPS System</h3>
<p>The GPS system is all about wanting to know if one is <em>proximate</em> to a
desired landmark! But how does it work?</p>
<p>Based on a measurement of two proximity scores, both electronic. One in
Space and one in Time. Oooh, cryptic, isn‚Äôt it? Here is how it works:</p>
<ul>
<li><p>Users receive GPS transmissions from more than one satellite (to
improve accuracy; more later).</p></li>
<li><p>Each Satellite is given a <strong>unique digital signature code</strong>, called
its <em>Coarse/Acquisition</em>, or C/A Code.</p></li>
<li><p>This code is a digital one-zero based sequence, which repeats after
a week.</p></li>
<li><p>The code ones and zeroes are called <strong>chips</strong>; the chips are output
by each satellite at a rate of 1.023 MHz. ( i.e.¬†a little faster
than a million chips per second)</p></li>
<li><p>All satellites use an on-board time clock. All satellites are
synchronized and it is the same time on all satellites, regardless
of where they are in the sky.</p></li>
<li><p>A User Receiver cannot understand what the satellite is saying,
UNLESS it removes/wipes off the signature used by the satellite. So
think of this in <strong><em>proximity</em></strong> terms: the user needs to know the
Signature Sequence and also be <strong>in sync aligned</strong> with it, chip for
chip.</p></li>
<li><p>One the signature is removed, what remains is what the satellite is
saying.</p></li>
<li><p>GPS#5 ‡§â‡§µ‡§æ‡§ö:</p>
<ul>
<li>‚ÄúIt is 4 PM on my onboard clock‚Äù;</li>
<li>‚ÄúThe ionosphere is doing weird things so please include that
weirdness in your position computation etc‚Äù;</li>
<li>Other stuff, called the <strong>satellite ephimeris</strong> (which we may
discuss in class)</li>
</ul></li>
</ul>
<p>But <u><a href="https://youtu.be/YwG4F-16Tno">Houston, we have a problem</a></u>,
but right here on the ground, mercifully. The problem is, wait for it,
<strong>the Speed of Light</strong>. And it is a <strong>good problem to have</strong>.</p>
<ul>
<li><p>When you detect say GPS#5 saying it is 4 PM, that signal came from
GPS#5 to you at the speed of light, so <strong><em>by the time it arrives</em></strong>,
the time on the satellite is already 4PM + 150 microseconds.</p></li>
<li><p>Since different GPS satellites we can see are at different
<strong><em>ranges</em></strong>, we receive different times from 5 different GPS
satellites.</p></li>
<li><p>Then we can set up a set of linear matrix equations in these
variables:</p>
<ul>
<li>‚ÄúReceived Time‚Äù from each satellite (<strong><em>Pseudo-Range</em></strong>)</li>
<li>Long and Lat (called a <strong><em>Position Fix</em></strong>);</li>
<li>Absolute Time (<strong><em>Time Fix</em></strong>)</li>
</ul></li>
<li><p>Which we solve to obtain both Position Fix and Time Fix.</p></li>
</ul>
<p>So in summary, the user needs to calculate two proximities:</p>
<ul>
<li><p>A <strong>C/A code proximity</strong>, measured by the Hamming Distance between
the received code and a locally generated C/A code. Which code to
generate locally? We don‚Äôt really know, so we generate ~ <em>all</em>.
Huh. And select that C/A code to wipe off which shows good proximity
with received C/A code. (This is called, in telecom language, a
<strong><em>Code Matched Filter</em></strong> and <strong><em>Rake Receiver</em></strong>. Ask me what this
looks like, at your peril.)</p></li>
<li><p>A <strong>Time Proximity</strong>, by correcting its own local clock to match the
satellite clocks, accurately. (This is called, in telecom language
again, a <strong>Delay-Lock Loop</strong>. Peril again.)</p></li>
</ul>
</div>
<div id="code-proximity-measurement" class="section level3">
<h3>Code Proximity Measurement</h3>
<div class="float" id="fig-code-autocorr">
<img src="images/autocorr.jpeg" alt="Code Proximity Measure" />
<div class="figcaption">Code Proximity Measure</div>
</div>
<p>In the <span class="citation">@fig-code-autocorr</span> above, the red curve shows the Hamming Distance between a received C/A code, and its locally generated copy. Only when the proximity between them is within one-chip does the measure have any sensible amplitude. (This is called <strong><em>Autocorrelation</em></strong>.)</p>
<p>The blue curve show Hamming Distance proximity between a received C/A code and <strong>any other</strong> C/A code. At no overlap position do these dissimilar codes have a useful proximity measure. (This is known as <strong>Cross-Correlation</strong>).</p>
<p>C/A codes are <strong><em>designed</em></strong> to have that spike-like autocorrelation, and that fuzz like cross-correlation to aid in proximity-based synchronization and code wipe-off.</p>
</div>
<div id="a-brief-foray-into-cryptography" class="section level3">
<h3>A Brief Foray into Cryptography</h3>
<p>In the Sherlock Holmes story,<u><a href="https://www.gutenberg.org/files/108/108-h/108-h.htm#chap03"><strong>The Adventure of the Dancing
Men</strong></a></u>,
a criminal known the one of the characters communicates with her using a
childish/child-like drawing which looks like this:</p>
<p><img src="images/img01.jpg" /> In this message, each character is a visual
representation, or a substution for, a letter from the alphabet. The
characters with flags are the first letter of a new word. The message is
translated in the story as ‚ÄúAm here, Abe Slaney‚Äù.</p>
<p>The entire <strong>code alphabet</strong> is shown in the figure below:
<img src="images/dancing-men-cipher-overview.png" /></p>
<p>This code is a good example of a <u><a href="https://www.geeksforgeeks.org/substitution-cipher/"><strong>Substitution
Cipher</strong></a></u> with
non-text substition. See
<u><a href="https://www.boxentriq.com/code-breaking/dancing-men-cipher" class="uri">https://www.boxentriq.com/code-breaking/dancing-men-cipher</a></u> and
<u><a href="https://www.dcode.fr/dancing-men-cipher" class="uri">https://www.dcode.fr/dancing-men-cipher</a></u> for examples where you
can encode and decode your own text, and send them to friends.
üòé üòº</p>
<p>The intent behind any substitution cipher is to be create <strong>distance</strong>
from the original message, or characters. The algorithms to encode and
decode uses this idea of <strong>distance</strong> to perform their operations and
are entirely reversible.</p>
</div>
</div>
<div id="painting-with-proximitydistance" class="section level2">
<h2>Painting with Proximity/Distance</h2>
<p>Well, all right, all right, tech is fine. Can we use the idea of
Proximity to create <strong>art</strong>? Well, we are not Kandinsky, but we can try.
Here goes:</p>
<ul>
<li>Fire up the Strava app, or equivalent, on your phones.</li>
<li>Walk out into the college campus, preferably under open sky.</li>
<li>With the app on, try to create a figure <u><a href="https://gpsart.info/en/gpsart-en/nowhow1-en/">like
this</a></u></li>
<li>Share the image with your friend!</li>
</ul>
</div>
<div id="wait-but-why" class="section level2">
<h2><u><a href="https://waitbutwhy.com">Wait, But Why?</a></u></h2>
<p>Here are some domains and purposes within them, that use the idea of
Proximity, and use Voronoi/Delaunay diagrams in their work. From
<u><a href="https://www.ics.uci.edu/~eppstein/gina/scot.drysdale.html">David Eppstein‚Äôs <em>Geometry in Action</em> webpage at UC, <del>Arvind</del>
Irvine</a> :
</u></p>
<ul>
<li>Anthropology and Archeology ‚Äì <em>Identify the parts of a region under
the influence of different neolithic clans, chiefdoms, ceremonial
centers, or hill forts</em>.<br />
</li>
<li>Astronomy ‚Äì <em>Identify clusters of stars and clusters of galaxies
(Here we saw what may be the earliest picture of a Voronoi diagram,
drawn by Descartes in 1644, where the regions described the regions
of gravitational influence of the sun and other stars.)</em><br />
</li>
<li>Biology, Ecology, Forestry ‚Äì <em>Model and analyze plant competition
(‚ÄúArea potentially available to a tree‚Äù, ‚ÄúPlant polygons‚Äù)</em><br />
</li>
<li>Cartography ‚Äì <em>Piece together satellite photographs into large
‚Äúmosaic‚Äù maps</em><br />
</li>
<li>Crystallography and Chemistry ‚Äì <em>Study chemical properties of
metallic sodium (‚ÄúWigner-Seitz regions‚Äù); Modelling alloy structures
as sphere packings (‚ÄúDomain of an atom‚Äù)</em><br />
</li>
<li>Finite Element Analysis ‚Äì <em>Generating finite element meshes which
avoid small angles</em><br />
</li>
<li>Geography ‚Äì <em>Analyzing patterns of urban settlements</em>. See also
<a href="https://www.patternlanguage.com">Christopher Alexander‚Äôs Pattern
Language</a><br />
</li>
<li>Geology ‚Äì <em>Estimation of ore reserves in a deposit using
information obtained from bore holes; modelling crack patterns in
basalt due to contraction on cooling</em><br />
</li>
<li>Geometric Modeling ‚Äì <em>Finding ‚Äúgood‚Äù triangulations of 3D
surfaces</em><br />
</li>
<li>Marketing ‚Äì <em>Model market of metropolitan areas; market area
extending down to individual retail stores</em><br />
</li>
<li>Mathematics ‚Äì <em>Study of positive definite quadratic forms
(‚ÄúDirichlet tesselation‚Äù, ‚ÄúVoronoi diagram‚Äù)</em><br />
</li>
<li>Metallurgy ‚Äì <em>Modelling ‚Äúgrain growth‚Äù in metal films</em><br />
</li>
<li>Meteorology ‚Äì <em>Estimate regional rainfall averages, given data at
discrete rain gauges (‚ÄúThiessen polygons‚Äù)</em><br />
</li>
<li>Pattern Recognition ‚Äì <em>Find simple descriptors for shapes that
extract 1D characterizations from 2D shapes (‚ÄúMedial axis‚Äù or
‚Äúskeleton‚Äù of a contour)</em><br />
</li>
<li>Physiology ‚Äì <em>Analysis of capillary distribution in cross-sections
of muscle tissue to compute oxygen transport (‚ÄúCapillary domains‚Äù)</em><br />
</li>
<li>Robotics/ Autonomous Vehicles‚Äì <em>Path planning in the presence of
obstacles</em><br />
</li>
<li>Statistics and Data Analysis ‚Äì <em>Analyze statistical clustering
(‚ÄúNatural neighbors‚Äù interpolation)</em><br />
</li>
<li>Zoology ‚Äì <em>Model and analyze the territories of animals</em></li>
</ul>
</div>
<div id="references" class="section level2">
<h2>References</h2>
<ol style="list-style-type: decimal">
<li><u><strong>Voronoi Diagrams and a Day at the Beach</strong>
<a href="/pdf/Proximity/VoronoiDiagrams-ADayAtTheBeach.pdf"><strong>(PDF)</strong></a></u>
Talks about cholera in Soho, the Voronoi diagram, and how to
construct it using waves on a beach!!</li>
<li>Data Genetics. <u><a href="http://datagenetics.com/blog/may12017/index.html"><em>Voronoi
Tessellations</em>.</a></u>
Very interesting 3D pictures of how Voronois and Delaunays are
created.</li>
<li>Gorilla Sun Blog.
<u><a href="https://www.gorillasun.de/blog/delaunay-triangulation-and-voronoi-diagrams/" class="uri">https://www.gorillasun.de/blog/delaunay-triangulation-and-voronoi-diagrams/</a></u></li>
<li>How are Codes used in GPS?
<u><a href="https://natronics.github.io/blag/2014/gps-viz-1/" class="uri">https://natronics.github.io/blag/2014/gps-viz-1/</a></u></li>
<li>How Do Codes Work in GPS?
<u><a href="https://natronics.github.io/blag/2014/gps-prn/" class="uri">https://natronics.github.io/blag/2014/gps-prn/</a></u></li>
</ol>
</div>
